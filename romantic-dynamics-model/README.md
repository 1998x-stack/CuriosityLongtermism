# æµªæ¼«é£æ ¼è€¦åˆæ¨¡å‹ä»¿çœŸç³»ç»Ÿ

[![Python 3.8+](https://img.shields.io/badge/python-3.8%2B-blue)](https://www.python.org/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Code style: Google](https://img.shields.io/badge/code%20style-google-blueviolet)](https://google.github.io/styleguide/pyguide.html)

åŸºäºå¾®åˆ†æ–¹ç¨‹å’ŒåŠ¨åŠ›ç³»ç»Ÿç†è®ºçš„äººæ ¼åŒ–æƒ…æ„Ÿå…³ç³»ä»¿çœŸåˆ†æç³»ç»Ÿï¼Œæä¾›16ç§äººæ ¼ç»„åˆçš„åŠ¨æ€æ¼”åŒ–é¢„æµ‹å’Œç¨³å®šæ€§åˆ†æã€‚

## ğŸ“‘ ç›®å½•

- [é¡¹ç›®æ¦‚è¿°](#-é¡¹ç›®æ¦‚è¿°)
- [âœ¨ ä¸»è¦åŠŸèƒ½](#-ä¸»è¦åŠŸèƒ½)
- [ğŸ›  æŠ€æœ¯æ ˆ](#-æŠ€æœ¯æ ˆ)
- [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
  - [ä¾èµ–å®‰è£…](#ä¾èµ–å®‰è£…)
  - [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
  - [è¿è¡Œç³»ç»Ÿ](#è¿è¡Œç³»ç»Ÿ)
- [ğŸ§© æ ¸å¿ƒæ¨¡å—](#-æ ¸å¿ƒæ¨¡å—)
- [ğŸ“Š ä½¿ç”¨ç¤ºä¾‹](#-ä½¿ç”¨ç¤ºä¾‹)
- [ğŸ“ˆ å¯è§†åŒ–è¾“å‡º](#-å¯è§†åŒ–è¾“å‡º)
- [ğŸ§‘ğŸ’» å¼€å‘æŒ‡å—](#-å¼€å‘æŒ‡å—)
- [â“ å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)
- [ğŸ“œ è®¸å¯è¯](#-è®¸å¯è¯)
- [ğŸ™ è‡´è°¢](#-è‡´è°¢)

## ğŸŒŸ é¡¹ç›®æ¦‚è¿°

æœ¬ç³»ç»ŸåŸºäºStrogatzæå‡ºçš„æµªæ¼«å…³ç³»å¾®åˆ†æ–¹ç¨‹æ¨¡å‹ï¼Œæ‰©å±•å®ç°ä»¥ä¸‹å·¥ä¸šçº§åŠŸèƒ½ï¼š

1. **å››ç»´äººæ ¼ä½“ç³»å»ºæ¨¡**ï¼šé‡åŒ–åˆ†æçƒ­åˆ‡æµ·ç‹¸/è‡ªæ‹å‚»ç“œ/è°¨æ…çˆ±äºº/éšå£«ç­‰å››ç§äººæ ¼ç±»å‹
2. **åŠ¨æ€ç¨³å®šæ€§åˆ†æ**ï¼šé€šè¿‡é›…å¯æ¯”çŸ©é˜µç‰¹å¾å€¼è®¡ç®—é¢„æµ‹å…³ç³»å‘å±•è¶‹åŠ¿
3. **å¤šç»´åº¦å¯è§†åŒ–**ï¼šæ—¶é—´åºåˆ—æ¼”åŒ–å›¾ + ç»„åˆæ•ˆåº”çƒ­åŠ›å›¾
4. **ç”Ÿäº§çº§æ—¥å¿—ç³»ç»Ÿ**ï¼šé›†æˆLoguruå®ç°å…¨é“¾è·¯è¿½è¸ª
5. **è‡ªåŠ¨åŒ–æŠ¥å‘Šç”Ÿæˆ**ï¼š300DPIç§‘ç ”çº§å›¾è¡¨è¾“å‡º

## âœ¨ ä¸»è¦åŠŸèƒ½

- **äººæ ¼å‚æ•°åŒ–å»ºæ¨¡**
  - è‡ªæˆ‘åé¦ˆç³»æ•° (a) å’Œäº’åŠ¨åé¦ˆç³»æ•° (b) é‡åŒ–é…ç½®
  - é¢„ç½®å››ç±»äººæ ¼çš„å…¸å‹å‚æ•°ç»„åˆ
- **åŠ¨æ€ç³»ç»Ÿä»¿çœŸ**
  - ä½¿ç”¨RK45æ–¹æ³•æ±‚è§£éçº¿æ€§å¾®åˆ†æ–¹ç¨‹
  - æ”¯æŒè‡ªå®šä¹‰åˆå§‹æƒ…æ„Ÿå¼ºåº¦å’Œä»¿çœŸæ—¶é•¿
- **ä¸“ä¸šçº§å¯è§†åŒ–**
  - æƒ…æ„Ÿå¼ºåº¦æ—¶é—´åºåˆ—åŠ¨æ€å›¾
  - 16ç§ç»„åˆç¨³å®šæ€§çƒ­åŠ›å›¾
  - è‡ªåŠ¨ä¿å­˜PNG/PDFæ ¼å¼å›¾è¡¨
- **å·¥ä¸šçº§ç‰¹æ€§**
  - æ¯æ—¥æ»šåŠ¨æ—¥å¿—ï¼ˆä¿ç•™30å¤©ï¼‰
  - å¼‚å¸¸å¤„ç†ä¸è‡ªåŠ¨æ¢å¤
  - ç±»å‹æ³¨è§£å…¨è¦†ç›–

## ğŸ›  æŠ€æœ¯æ ˆ

- **ç¼–ç¨‹è¯­è¨€**: Python 3.8+
- **æ ¸å¿ƒåº“**:
  - `NumPy`: çŸ©é˜µè¿ç®—ä¸æ•°å€¼è®¡ç®—
  - `SciPy`: å¾®åˆ†æ–¹ç¨‹æ±‚è§£å™¨
  - `Matplotlib/Seaborn`: ç§‘ç ”çº§å¯è§†åŒ–
  - `Loguru`: ç”Ÿäº§çº§æ—¥å¿—ç³»ç»Ÿ
- **å¼€å‘å·¥å…·**:
  - `PEP 8` ä»£ç è§„èŒƒ
  - `Google Style Docstrings`
  - `mypy` é™æ€ç±»å‹æ£€æŸ¥

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ä¾èµ–å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/yourusername/romantic-dynamics-model.git
cd romantic-dynamics-model

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰
python -m venv venv
source venv/bin/activate  # Linux/Mac
venv\Scripts\activate    # Windows

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### é…ç½®è¯´æ˜

1. **è¾“å‡ºç›®å½•ç»“æ„**ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰ï¼š
   ```
   output/
   â”œâ”€â”€ images/    # å¯è§†åŒ–å›¾è¡¨
   â””â”€â”€ logs/      # è¿è¡Œæ—¥å¿—
   ```

2. **ç¯å¢ƒå˜é‡**ï¼š
   - ä¿®æ”¹ `config/settings.py` å¯è°ƒæ•´ï¼š
     - ä»¿çœŸæ—¶é•¿ (`T_SPAN`)
     - é»˜è®¤åˆå§‹æƒ…æ„Ÿå€¼ (`Y0`)
     - è¾“å‡ºåˆ†è¾¨ç‡ (`DPI`)

### è¿è¡Œç³»ç»Ÿ

```bash
# è¿è¡Œä¸»åˆ†ææµç¨‹
python main.py

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
tail -f output/logs/runtime_*.log
```

## ğŸ§© æ ¸å¿ƒæ¨¡å—

| æ¨¡å— | æ–‡ä»¶ | åŠŸèƒ½æè¿° |
|------|------|---------|
| **æ ¸å¿ƒæ¨¡å‹** | `core/models.py` | å®šä¹‰å¾®åˆ†æ–¹ç¨‹ç³»ç»Ÿã€äººæ ¼å‚æ•°ç±»ã€ç¨³å®šæ€§åˆ†æç®—æ³• |
| **å¯è§†åŒ–å¼•æ“** | `core/visualization.py` | ç”Ÿæˆæ—¶é—´åºåˆ—å›¾ã€ç»„åˆçƒ­åŠ›å›¾ã€æ ¼å¼ç¾åŒ– |
| **é…ç½®ç³»ç»Ÿ** | `config/settings.py` | è·¯å¾„ç®¡ç†ã€é»˜è®¤å‚æ•°é…ç½® |
| **æ—¥å¿—ç³»ç»Ÿ** | `utils/logger.py` | æ—¥å¿—æ ¼å¼é…ç½®ã€æ–‡ä»¶è½®æ¢ç­–ç•¥ |
| **ä¸»ç¨‹åº** | `main.py` | ç»„åˆç”Ÿæˆé€»è¾‘ã€åˆ†ææµç¨‹æ§åˆ¶ |

## ğŸ“Š ä½¿ç”¨ç¤ºä¾‹

```python
from core.models import RomanticType, PersonalityParams, RomanticDynamics
from core.visualization import DynamicsVisualizer

# åˆ›å»ºäººæ ¼å‚æ•°
eager_beaver = PersonalityParams(
    a=0.5, 
    b=0.3,
    type=RomanticType.EAGER_BEAVER
)

hermit = PersonalityParams(
    a=-0.4,
    b=-0.5,
    type=RomanticType.HERMIT
)

# åˆå§‹åŒ–ç³»ç»Ÿ
system = RomanticDynamics(
    params_pair=(eager_beaver, hermit),
    t_span=(0, 10),  # 10å¹´ä»¿çœŸ
    y0=np.array([0.2, 0.8])  # åˆå§‹æƒ…æ„Ÿå€¼
)

# è¿è¡Œä»¿çœŸ
system.solve_ode()

# å¯è§†åŒ–ç»“æœ
visualizer = DynamicsVisualizer()
visualizer.plot_time_series(
    solution=system._solution,
    params_pair=(eager_beaver, hermit),
    filename="eager_vs_hermit.png"
)
```

## ğŸ“ˆ å¯è§†åŒ–è¾“å‡º

1. **æ—¶é—´åºåˆ—å›¾ç¤ºä¾‹**ï¼š
   ![çƒ­åˆ‡æµ·ç‹¸ vs éšå£«æƒ…æ„Ÿæ¼”åŒ–](output/images/dynamics_0.png)

2. **ç»„åˆçƒ­åŠ›å›¾**ï¼š
   ![16ç§äººæ ¼ç»„åˆç¨³å®šæ€§](output/images/stability_heatmap.png)

å›¾è¡¨è‡ªåŠ¨ä¿å­˜è‡³ `output/images/`ï¼ŒåŒ…å«ï¼š
- æƒ…æ„Ÿå¼ºåº¦æ—¶é—´æ¼”åŒ–æ›²çº¿
- ç‰¹å¾å€¼åˆ†å¸ƒæ ‡è®°
- ç¨³å®šæ€§åˆ†ç±»å›¾ä¾‹

## ğŸ§‘ğŸ’» å¼€å‘æŒ‡å—

### æ·»åŠ æ–°äººæ ¼ç±»å‹

1. åœ¨ `RomanticType` æšä¸¾ä¸­æ·»åŠ æ–°ç±»å‹
2. åœ¨ `generate_all_combinations()` ä¸­é…ç½®å‚æ•°
3. é‡æ–°è¿è¡Œä¸»åˆ†ææµç¨‹

```python
# åœ¨ models.py ä¸­æ‰©å±•æšä¸¾
class RomanticType(Enum):
    NEW_TYPE = "æ–°äººæ ¼ç±»å‹"
```

### æ‰©å±•å¯è§†åŒ–

1. åˆ›å»ºæ–°çš„å¯è§†åŒ–æ–¹æ³•ï¼š

```python
class DynamicsVisualizer:
    def plot_phase_portrait(self, system, filename):
        """ç»˜åˆ¶ç›¸å¹³é¢å›¾"""
        # å®ç°ç»˜å›¾é€»è¾‘
        self._save_figure(filename)
```

### æ—¥å¿—åˆ†æ

ä½¿ç”¨å†…ç½®æŸ¥è¯¢å‘½ä»¤ï¼š

```bash
# æŸ¥æ‰¾é”™è¯¯æ—¥å¿—
grep "ERROR" output/logs/runtime_*.log

# ç»Ÿè®¡è¿è¡Œæ¬¡æ•°
grep "åˆå§‹åŒ–ç³»ç»Ÿ" output/logs/runtime_*.log | wc -l
```

## â“ å¸¸è§é—®é¢˜

**Qï¼šè¿è¡Œæ—¶æŠ¥é”™ `ModuleNotFoundError`**  
âœ… è§£å†³æ–¹æ¡ˆï¼š  
```bash
# ç¡®ä¿å®‰è£…å…¨éƒ¨ä¾èµ–
pip install -r requirements.txt --force-reinstall
```

**Qï¼šå›¾è¡¨æ— æ³•æ˜¾ç¤ºä¸­æ–‡**  
âœ… è§£å†³æ–¹æ¡ˆï¼š  
1. å®‰è£…ä¸­æ–‡å­—ä½“ï¼š`sudo apt install fonts-wqy-zenhei`  
2. æ¸…é™¤matplotlibç¼“å­˜ï¼š`rm ~/.cache/matplotlib -rf`

**Qï¼šç‰¹å¾å€¼è®¡ç®—å‡ºç°å¤æ•°**  
ğŸ” åŸå› åˆ†æï¼šé›…å¯æ¯”çŸ©é˜µå­˜åœ¨å…±è½­å¤ç‰¹å¾æ ¹  
ğŸ’¡ å¤„ç†æ–¹å¼ï¼šå‚è€ƒ `_classify_equilibrium()` æ–¹æ³•ä¸­çš„æŒ¯è¡ç±»å‹åˆ¤æ–­

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE)ï¼Œå…è®¸è‡ªç”±ä½¿ç”¨äºå­¦æœ¯å’Œå•†ä¸šåœºæ™¯ï¼Œéœ€ä¿ç•™ç‰ˆæƒå£°æ˜ã€‚

## ğŸ™ è‡´è°¢

- Steven Strogatz æ•™æˆå…³äºçˆ±æƒ…å¾®åˆ†æ–¹ç¨‹çš„å¥ åŸºæ€§ç ”ç©¶
- Google Pythoné£æ ¼æŒ‡å—å¼€å‘å›¢é˜Ÿ
- Loguru å¼€å‘è€…Delganæä¾›å“è¶Šçš„æ—¥å¿—è§£å†³æ–¹æ¡ˆ

---

**Happy Modeling!** ğŸš€ å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿æäº¤Issueæˆ–è”ç³»ç»´æŠ¤å›¢é˜Ÿã€‚